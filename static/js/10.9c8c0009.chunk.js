(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1228:function(e,a,t){"use strict";t.r(a);var r=t(192),s=t(61),n=t(60),i=t(34),m=t(35),l=t(37),c=t(36),o=t(38),d=t(1),u=t.n(d),p=t(1221),h=t(14),g=t(678),b=t(74),f=function(e){function a(){var e,t;Object(i.a)(this,a);for(var m=arguments.length,o=new Array(m),d=0;d<m;d++)o[d]=arguments[d];return(t=Object(l.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={loading:!1,formRegister:{fname:"",email:"",password:"",password2:"",terms:!1}},t.validateOnChange=function(e){var a,r=e.target,i=r.form,m="checkbox"===r.type?r.checked:r.value,l=g.a.validate(r);t.setState(Object(s.a)({},i.name,Object(n.a)({},t.state[i.name],(a={},Object(s.a)(a,r.name,m),Object(s.a)(a,"errors",Object(n.a)({},t.state[i.name].errors,Object(s.a)({},r.name,l))),a))))},t.onSubmit=function(e){var a=e.target,i=Object(r.a)(a.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),m=g.a.bulkValidate(i).errors;t.setState(Object(s.a)({},a.name,Object(n.a)({},t.state[a.name],{errors:m}))),e.preventDefault();var l={name:t.state.formRegister.fname,email:t.state.formRegister.email,password:t.state.formRegister.password};fetch(b.i+b.d+"register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(function(e){return e.json()}).then(function(e){200===e.status||201===e.status?(t.props.actions.login(e.user),t.props.history.push("/dashboard")):t.setState({loginError:e.message})}).catch(function(e){t.setState({loginError:"Error while processing"})})},t.hasError=function(e,a,r){return t.state[e]&&t.state[e].errors&&t.state[e].errors[a]&&t.state[e].errors[a][r]},t}return Object(o.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"block-center"},u.a.createElement("style",null,".wrapper{background: #2b3eb7} .card {min-height: 400px; max-width: 400px; margin: calc(50vh - 200px) auto 0 !important;} .card img {height: 75px} .btn-primary, .btn-primary:hover, .btn-primary:active, .btn-primary:focus {color: #fff !important; background-color: #2b3eb7 !important; border-color: #2b3eb7 !important; box-shadow: none !important;} .custom-control-label:before,.custom-control-label:after {top: -0.07rem;left: -1.5rem;}"),u.a.createElement("div",{className:"card card-flat"},u.a.createElement("div",{className:"card-header text-center bg-default"},u.a.createElement(p.a,{to:""},u.a.createElement("img",{className:"block-center",src:"img/logo-dark.png",alt:"Logo"}))),u.a.createElement("div",{className:"card-body"},u.a.createElement("p",{className:"text-center py-2"},"SIGNUP TO GET INSTANT ACCESS."),u.a.createElement("form",{className:"mb-3",name:"formRegister",onSubmit:this.onSubmit},u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(h.n,{type:"text",id:"id-fname",name:"fname",className:"border-right-0",placeholder:"Name",invalid:this.hasError("formRegister","fname","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formRegister.fname}),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},u.a.createElement("em",{className:"fa fa-edit"}))),u.a.createElement("span",{className:"invalid-feedback"},"Field is required"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(h.n,{type:"email",name:"email",className:"border-right-0",placeholder:"Enter email",invalid:this.hasError("formRegister","email","required")||this.hasError("formRegister","email","email"),onChange:this.validateOnChange,"data-validate":'["required", "email"]',value:this.state.formRegister.email}),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},u.a.createElement("em",{className:"fa fa-envelope"}))),this.hasError("formRegister","email","required")&&u.a.createElement("span",{className:"invalid-feedback"},"Field is required"),this.hasError("formRegister","email","email")&&u.a.createElement("span",{className:"invalid-feedback"},"Field must be valid email"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(h.n,{type:"password",id:"id-password",name:"password",className:"border-right-0",placeholder:"Password",invalid:this.hasError("formRegister","password","required"),onChange:this.validateOnChange,"data-validate":'["required"]',value:this.state.formRegister.password}),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},u.a.createElement("em",{className:"fa fa-lock"}))),u.a.createElement("span",{className:"invalid-feedback"},"Field is required"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(h.n,{type:"password",name:"password2",className:"border-right-0",placeholder:"Retype assword",invalid:this.hasError("formRegister","password2","equalto"),onChange:this.validateOnChange,"data-validate":'["equalto"]',value:this.state.formRegister.password2,"data-param":"id-password"}),u.a.createElement("div",{className:"input-group-append"},u.a.createElement("span",{className:"input-group-text text-muted bg-transparent border-left-0"},u.a.createElement("em",{className:"fa fa-lock"}))),u.a.createElement("span",{className:"invalid-feedback"},"Field must be equal to previous"))),u.a.createElement(h.g,{type:"checkbox",id:"terms",name:"terms",label:"I agree with the terms",invalid:this.hasError("formRegister","terms","required"),onChange:this.validateOnChange,"data-validate":'["required"]',checked:this.state.formRegister.terms},u.a.createElement("span",{className:"invalid-feedback"},"Field is required")),u.a.createElement("button",{className:"btn btn-raised btn-block btn-primary mt-3",type:"submit"},"Create account"))),u.a.createElement("div",{className:"card-footer text-center"},u.a.createElement(p.a,{to:"login",className:"text-muted"},"Back to Login"))),u.a.createElement("div",{className:"p-3 text-center"},u.a.createElement("span",{className:"mr-2"},"\xa9"),u.a.createElement("span",null,"2019"),u.a.createElement("span",{className:"mx-2"},"-"),u.a.createElement("span",null,"MSC Chemicals")))}}]),a}(d.Component);a.default=f},678:function(e,a,t){"use strict";var r=t(61),s=t(60),n=t(627),i=t(722),m=t.n(i),l={validate:function(e){var a="checkbox"===e.type,t=a?e.checked:e.value;if(!e.name)throw new Error("Input name must not be empty.");var r=JSON.parse(e.getAttribute("data-validate")),s=[];return r&&r.length&&r.forEach(function(e){switch(e.key){case"required":(a?!1===t:m.a.isEmpty(t))&&s.push({key:e.key,msg:"Field is mandatory"});break;case"email":m.a.isEmail(t)||s.push({key:e.key,msg:"Please enter valid email"});break;case"number":!m.a.isNumeric(t)&&s.push({key:e.key,msg:"Field should be number"});break;case"integer":!m.a.isInt(t)&&s.push({key:e.key,msg:"Field should be integer"});break;case"alphanum":!m.a.isAlphanumeric(t)&&s.push({key:e.key,msg:"Field should be alpha numeric"});break;case"url":!m.a.isURL(t)&&s.push({key:e.key,msg:"Field should be url"});break;case"equalto":var r=document.getElementById(e.param).value;!m.a.equals(t,r)&&s.push({key:e.key,msg:"Field should be match"});break;case"minlen":!m.a.isEmpty(t)&&!m.a.isLength(t,{min:Number(e.param)})&&s.push({key:e.key,msg:"Field should have minimum length: "+e.param});break;case"maxlen":!m.a.isEmpty(t)&&!m.a.isLength(t,{max:Number(e.param)})&&s.push({key:e.key,msg:"Field should have maximum length: "+e.param});break;case"len":var i=JSON.parse(e.param),l=Object(n.a)(i,2),c=l[0],o=l[1];!m.a.isEmpty(t)&&!m.a.isLength(t,{min:c,max:o})&&s.push({key:e.key,msg:"Field should have min length "+c+" maximum length: "+o});break;case"min":!m.a.isInt(t,{min:m.a.toInt(e.param)})&&s.push({key:e.key,msg:"Field should have minimum characters"});break;case"max":!m.a.isInt(t,{max:m.a.toInt(e.param)})&&s.push({key:e.key,msg:"Field should not exceed maximum characters"});break;case"list":var d=JSON.parse(e.param),u=!m.a.isIn(t,d);u&&s.push({status:u,message:u?"Invalid value":""});break;default:throw new Error("Unrecognized validator.")}}),s},bulkValidate:function(e){var a=this,t={},n=!1;return e.forEach(function(e){var i=a.validate(e);n||(n=i.length>0),t=Object(s.a)({},t,Object(r.a)({},e.name,i))}),{errors:t,hasError:n}}};a.a=l}}]);
//# sourceMappingURL=10.9c8c0009.chunk.js.map