(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1389:function(e,a,t){"use strict";t.r(a);var r=t(669),n=t(57),o=t(56),i=t(39),l=t(40),s=t(624),c=t(664),d=t(18),m=t(0),u=t.n(m),p=t(1384),h=t(1354),b=t(6),v=t(10),g=t(1),f=t.n(g),y=t(13),E=t.n(y),k=t(3),O={children:f.a.node,tag:k.o,className:f.a.string,cssModule:f.a.object,valid:f.a.bool,tooltip:f.a.bool},N={tag:"div",valid:void 0},j=function(e){var a=e.className,t=e.cssModule,r=e.valid,n=e.tooltip,o=e.tag,i=Object(v.a)(e,["className","cssModule","valid","tooltip","tag"]),l=n?"tooltip":"feedback",s=Object(k.k)(E()(a,r?"valid-"+l:"invalid-"+l),t);return u.a.createElement(o,Object(b.a)({},i,{className:s}))};j.propTypes=O,j.defaultProps=N;var x=j,w=t(625),L=t(663),F=t(748),S=t(34),I=t(67),P=t(700),q=t(626),C=Object(q.a)(m.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),"Email"),T=Object(q.a)(m.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock"),R=t(131);function M(e){var a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var t,r=Object(d.a)(e);if(a){var n=Object(d.a)(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return Object(c.a)(this,t)}}var V=function(e){Object(s.a)(t,e);var a=M(t);function t(){var e;Object(i.a)(this,t);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={loading:!1,formLogin:{email:"",password:""}},e.validateOnChange=function(a){var t,r=a.target,i=r.form,l="checkbox"===r.type?r.checked:r.value,s=F.a.validate(r);e.setState(Object(n.a)({},i.name,Object(o.a)({},e.state[i.name],(t={},Object(n.a)(t,r.name,l),Object(n.a)(t,"errors",Object(o.a)({},e.state[i.name].errors,Object(n.a)({},r.name,s))),t))))},e.onSubmit=function(a){a.preventDefault();var t=a.target,i=Object(r.a)(t.elements).filter(function(e){return["INPUT","SELECT"].includes(e.nodeName)}),l=F.a.bulkValidate(i),s=l.errors,c=l.hasError;e.setState({loading:!0}),e.setState(Object(n.a)({},t.name,Object(o.a)({},e.state[t.name],{errors:s})));var d={userName:e.state.formLogin.email,password:e.state.formLogin.password};fetch(I.j+I.d+"user-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(function(a){return e.setState({loading:!1}),a.json()}).then(function(a){e.setState({loading:!1}),200===a.status?(e.props.actions.login(a.user),e.props.history.push("/dashboard")):e.setState({loginError:a.message})}).catch(function(a){e.setState({loading:!1}),e.setState({loginError:"Error while processing"})}),console.log(c?"Form has errors. Check!":"Form Submitted!")},e.hasError=function(a,t,r){return e.state[a]&&e.state[a].errors&&e.state[a].errors[t]&&e.state[a].errors[t][r]},e}return Object(l.a)(t,[{key:"componentWillMount",value:function(){console.log("Component will mount"),console.log("server :"+I.j)}},{key:"render",value:function(){var e=this.state.formLogin.errors;if(this.props.loginStatus.login)return u.a.createElement(p.a,{to:{pathname:"/dashboard",state:{from:this.props.location}}});var a,t,r,n,o,i;return u.a.createElement("div",null,u.a.createElement("body",{className:"backimg"},this.state.loading&&u.a.createElement(R.a,null),u.a.createElement("div",{className:"login1"},u.a.createElement("img",{className:"img1",src:"img/sunset.jpg",alt:"Logo"}),u.a.createElement("style",null,".wrapper{background: #2b3eb7} .card {height: 450px; width: 540px; border-top-right-radius: 20px; border-bottom-right-radius: 20px; margin: -450px 0px 0px 450px;} .card img {height: 75px} .btn-primary, .btn-primary:hover, .btn-primary:active, .btn-primary:focus {color: #fff !important; background-color: #2b3eb7 !important; border-color: #2b3eb7 !important;}"),u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"card-header text-center bg-default"},u.a.createElement(h.a,{to:""},u.a.createElement("img",{className:"block-center rounded",src:"img/logo-dark.png",alt:"Logo"}))),u.a.createElement("div",{className:"card-body"},u.a.createElement("p",{className:"text-center py-2"},"SIGN IN TO CONTINUE."),u.a.createElement("form",{className:"mb-3",name:"formLogin",onSubmit:this.onSubmit},u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(P.a,{type:"text",name:"email",className:"border-right-0",placeholder:"Enter email",invalid:this.hasError("formLogin","email","required")||this.hasError("formLogin","email","email"),onChange:this.validateOnChange,helperText:(null===e||void 0===e?void 0:null===(a=e.email)||void 0===a?void 0:a.length)>0?null===e||void 0===e?void 0:null===(t=e.email[0])||void 0===t?void 0:t.msg:"",error:(null===e||void 0===e?void 0:null===(r=e.email)||void 0===r?void 0:r.length)>0,value:this.state.formLogin.email,minLength:"5",maxLength:"100",InputProps:{endAdornment:u.a.createElement(C,null)}}),this.hasError("formLogin","email","required")&&u.a.createElement("span",{className:"invalid-feedback"},"Field is required"))),u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"input-group with-focus"},u.a.createElement(P.a,{type:"password",id:"id-password",name:"password",className:"border-right-0",placeholder:"Password",invalid:this.hasError("formLogin","password","required"),onChange:this.validateOnChange,value:this.state.formLogin.password,helperText:(null===e||void 0===e?void 0:null===(n=e.password)||void 0===n?void 0:n.length)>0?null===e||void 0===e?void 0:null===(o=e.password[0])||void 0===o?void 0:o.msg:"",error:(null===e||void 0===e?void 0:null===(i=e.password)||void 0===i?void 0:i.length)>0,InputProps:{endAdornment:u.a.createElement(T,null)}}),this.state.formLogin.errors&&this.state.formLogin.errors.password&&u.a.createElement(x,null,this.state.formLogin.errors.password.required," "),u.a.createElement("span",{className:"invalid-feedback"},"Field is required"))),u.a.createElement("div",{className:"clearfix"},u.a.createElement("div",{className:"float-right"},u.a.createElement(h.a,{to:"mobile",className:"text-muted"},"Forgot Password"))),this.state.loginError,u.a.createElement("span",{className:"invalid-feedback"}," ",this.state.loginError),u.a.createElement("button",{className:"btn btn-raised btn-block btn-primary mt-3",type:"submit"},"Login"))),u.a.createElement("div",{className:"card-footer text-center d-none"},u.a.createElement(h.a,{to:"register",className:"text-muted"},"Register"))))))}}]),t}(m.Component);a.default=Object(w.b)(function(e){return{loginStatus:e.login}},function(e){return{actions:Object(S.b)(L,e)}})(V)},700:function(e,a,t){"use strict";var r=t(6),n=t(618),o=t(0),i=(t(1),t(620)),l=t(872),s=t(875),c=t(703),d=t(877),m=t(876),u=t(631),p=t(635),h=t(2),b=o.forwardRef(function(e,a){var t=e.children,l=e.classes,s=e.className,c=e.component,d=void 0===c?"p":c,m=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(n.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=Object(p.a)(),b=Object(u.a)({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(d,Object(r.a)({className:Object(i.a)(l.root,("filled"===b.variant||"outlined"===b.variant)&&l.contained,s,b.disabled&&l.disabled,b.error&&l.error,b.filled&&l.filled,b.focused&&l.focused,b.required&&l.required,"dense"===b.margin&&l.marginDense),ref:a},m)," "===t?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):t)}),v=Object(h.a)(function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},{name:"MuiFormHelperText"})(b),g=t(658),f={standard:l.a,filled:s.a,outlined:c.a},y=o.forwardRef(function(e,a){var t=e.autoComplete,l=e.autoFocus,s=void 0!==l&&l,c=e.children,u=e.classes,p=e.className,h=e.color,b=void 0===h?"primary":h,y=e.defaultValue,E=e.disabled,k=void 0!==E&&E,O=e.error,N=void 0!==O&&O,j=e.FormHelperTextProps,x=e.fullWidth,w=void 0!==x&&x,L=e.helperText,F=e.hiddenLabel,S=e.id,I=e.InputLabelProps,P=e.inputProps,q=e.InputProps,C=e.inputRef,T=e.label,R=e.multiline,M=void 0!==R&&R,V=e.name,H=e.onBlur,z=e.onChange,A=e.onFocus,J=e.placeholder,D=e.required,W=void 0!==D&&D,B=e.rows,U=e.rowsMax,$=e.select,_=void 0!==$&&$,G=e.SelectProps,K=e.type,Q=e.value,X=e.variant,Y=void 0===X?"standard":X,Z=Object(n.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};if("outlined"===Y&&(I&&"undefined"!==typeof I.shrink&&(ee.notched=I.shrink),T)){var ae,te=null!==(ae=null===I||void 0===I?void 0:I.required)&&void 0!==ae?ae:W;ee.label=o.createElement(o.Fragment,null,T,te&&"\xa0*")}_&&(G&&G.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var re=L&&S?"".concat(S,"-helper-text"):void 0,ne=T&&S?"".concat(S,"-label"):void 0,oe=f[Y],ie=o.createElement(oe,Object(r.a)({"aria-describedby":re,autoComplete:t,autoFocus:s,defaultValue:y,fullWidth:w,multiline:M,name:V,rows:B,rowsMax:U,type:K,value:Q,id:S,inputRef:C,onBlur:H,onChange:z,onFocus:A,placeholder:J,inputProps:P},ee,q));return o.createElement(m.a,Object(r.a)({className:Object(i.a)(u.root,p),disabled:k,error:N,fullWidth:w,hiddenLabel:F,ref:a,required:W,color:b,variant:Y},Z),T&&o.createElement(d.a,Object(r.a)({htmlFor:S,id:ne},I),T),_?o.createElement(g.a,Object(r.a)({"aria-describedby":re,id:S,labelId:ne,value:Q,input:ie},G),c):ie,L&&o.createElement(v,Object(r.a)({id:re},j),L))});a.a=Object(h.a)({root:{}},{name:"MuiTextField"})(y)},748:function(e,a,t){"use strict";var r=t(57),n=t(56),o=t(696),i=t(787),l=t.n(i),s={validate:function(e){var a="checkbox"===e.type,t=a?e.checked:e.value;if(!e.name)throw new Error("Input name must not be empty.");var r=JSON.parse(e.getAttribute("data-validate")),n=[];return r&&r.length&&r.forEach(function(e){switch(e.key){case"required":(a?!1===t:l.a.isEmpty(t))&&n.push({key:e.key,msg:"Field is mandatory"});break;case"email":l.a.isEmail(t)||n.push({key:e.key,msg:"Please enter valid email"});break;case"number":!l.a.isNumeric(t)&&n.push({key:e.key,msg:"Field should be number"});break;case"integer":!l.a.isInt(t)&&n.push({key:e.key,msg:"Field should be integer"});break;case"alphanum":!l.a.isAlphanumeric(t)&&n.push({key:e.key,msg:"Field should be alpha numeric"});break;case"url":!l.a.isURL(t)&&n.push({key:e.key,msg:"Field should be url"});break;case"equalto":var r=document.getElementById(e.param).value;!l.a.equals(t,r)&&n.push({key:e.key,msg:"Field should be match"});break;case"minlen":!l.a.isEmpty(t)&&!l.a.isLength(t,{min:Number(e.param)})&&n.push({key:e.key,msg:"Field should have minimum length: "+e.param});break;case"maxlen":!l.a.isEmpty(t)&&!l.a.isLength(t,{max:Number(e.param)})&&n.push({key:e.key,msg:"Field should have maximum length: "+e.param});break;case"len":var i=JSON.parse(e.param),s=Object(o.a)(i,2),c=s[0],d=s[1];!l.a.isEmpty(t)&&!l.a.isLength(t,{min:c,max:d})&&n.push({key:e.key,msg:"Field should have min length "+c+" maximum length: "+d});break;case"min":!l.a.isInt(t,{min:l.a.toInt(e.param)})&&n.push({key:e.key,msg:"Field should have minimum characters"});break;case"max":!l.a.isInt(t,{max:l.a.toInt(e.param)})&&n.push({key:e.key,msg:"Field should not exceed maximum characters"});break;case"list":var m=JSON.parse(e.param),u=!l.a.isIn(t,m);u&&n.push({status:u,message:u?"Invalid value":""});break;default:throw new Error("Unrecognized validator.")}}),n},bulkValidate:function(e){var a=this,t={},o=!1;return e.forEach(function(e){var i=a.validate(e);o||(o=i.length>0),t=Object(n.a)({},t,Object(r.a)({},e.name,i))}),{errors:t,hasError:o}}};a.a=s}}]);
//# sourceMappingURL=8.911d7484.chunk.js.map