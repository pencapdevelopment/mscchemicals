{"version":3,"sources":["components/Common/CategoryTree.js","components/Core/Categories.js","components/Layout/ContentWrapper.js","components/Common/CustomPagination.js"],"names":["CategoryTree","_this","this","react_default","a","createElement","Table","hover","responsive","props","categories","map","category","i","key","id","Link","to","concat","typePath","name","Button","color","size","onClick","editCategory","className","deleteCategory","disabled","children","length","title","addCategory","bind","React","Component","Categories","state","loading","modal","page","number","totalElements","totalPages","filters","search","type","typeName","editFlag","currentCategory","newCategory","superCategory","addError","deleteError","updateError","updateParent","parent","x","dx","index","searchUser","e","str","target","value","setState","o","loadCategories","updateNewCategory","toggleModal","resetCategory","onSubmit","preventDefault","url","server_url","context_path","axios","patch","then","res","status","getChildrenArr","console","log","response","data","globalErrors","swal","finally","parentCategory","lineage","menu","uid","user","active","post","unshift","forEach","idx","text","icon","dangerMode","button","closeModal","willDelete","delete","splice","catch","err","offset","_this2","encodeURIComponent","get","_embedded","_this3","path","match","substr","indexOf","endsWith","charAt","toUpperCase","slice","child","arr","indexArr","getIndexArr","_this4","ContentWrapper","PageLoader","Card","Input","onChange","placeholder","CardBody","Modal","isOpen","toggle","ModalHeader","ModalBody","Col","md","maxLength","required","Common_CategoryTree","CustomPagination","connect","settings","login","userObj","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","unwrap","defaultProps","renderPagination","fromElement","toElement","react__WEBPACK_IMPORTED_MODULE_6___default","Span2","Span1","Div2","react_js_pagination__WEBPACK_IMPORTED_MODULE_7___default","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","itemClass","linkClass","prevPageText","nextPageText","Div1","styled","div","_templateObject","_templateObject2","span","_templateObject3","_templateObject4"],"mappings":"uwBAyDeA,+JA/CF,IAAAC,EAAAC,KACL,OACAC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAOC,OAAK,EAACC,YAAU,GACnBL,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,8BAGRF,EAAAC,EAAAC,cAAA,aACKH,KAAKO,MAAMC,WAAWC,IAAI,SAACC,EAAUC,GAClC,OACAV,EAAAC,EAAAC,cAAA,MAAIS,IAAKF,EAASG,IACdZ,EAAAC,EAAAC,cAAA,UACCQ,EAAI,EADL,KACSV,EAAAC,EAAAC,cAACW,EAAA,EAAD,CAAMC,GAAE,IAAAC,OAAMjB,EAAKQ,MAAMU,SAAjB,cAAAD,OAAsCN,EAASG,KAAOH,EAASQ,OAEhFjB,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAQC,MAAM,UAAUC,KAAK,KAAKC,QAAS,kBAAMvB,EAAKQ,MAAMgB,aAAab,KACrET,EAAAC,EAAAC,cAAA,KAAGqB,UAAU,gBAEjBvB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAQC,MAAM,UAAUC,KAAK,KAAKC,QAAS,kBAAMvB,EAAKQ,MAAMkB,eAAef,IACvEgB,SAAUhB,EAASiB,SAASC,OAAS,EAAGC,MAAOnB,EAASiB,SAASC,OAAS,EAAI,sCAAwC,IACtH3B,EAAAC,EAAAC,cAAA,KAAGqB,UAAU,kBAGrBvB,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAQC,MAAM,UAAUC,KAAK,KAAKC,QAAS,kBAAMvB,EAAKQ,MAAMuB,YAAYpB,KACpET,EAAAC,EAAAC,cAAA,KAAGqB,UAAU,eADjB,QAGCd,EAASiB,SAASC,OAAS,GAC5B3B,EAAAC,EAAAC,cAACL,EAAD,CACAmB,SAAUlB,EAAKQ,MAAMU,SACrBT,WAAYE,EAASiB,SACrBG,YAAa/B,EAAKQ,MAAMuB,YAAYC,KAAKhC,GACzCwB,aAAcxB,EAAKQ,MAAMgB,aAAaQ,KAAKhC,GAC3C0B,eAAgB1B,EAAKQ,MAAMkB,eAAeM,KAAKhC,kBAtChDiC,IAAMC,udCe3BC,oMACFC,MAAQ,CACJC,SAAS,EACTC,OAAO,EACPC,KAAM,CACFC,OAAQ,EACRlB,KAAM,GACNmB,cAAe,EACfC,WAAY,GAEhBC,QAAS,CACLC,OAAQ,IAEZC,KAAM,GACNC,SAAU,GACV5B,SAAU,GACVT,WAAY,GACZsC,UAAU,EACVC,gBAAiB,GACjBC,YAAa,CACT9B,KAAM,GACN0B,KAAM,IAEVK,cAAe,GACfC,SAAU,GACVC,YAAa,GACbC,YAAa,MAGjBC,aAAe,SAAC7C,EAAY8C,GACxB,IAAI,IAAIC,KAAK/C,EAAY,CACrB,IAAIgD,EAAKhD,EAAW+C,GACpBC,EAAGC,MAAQF,EACXC,EAAGF,OAASA,EAETE,EAAG7B,SAASC,QACX7B,EAAKsD,aAAaG,EAAG7B,SAAU6B,OA4C3CE,WAAa,SAAAC,GACT,IAAIC,EAAMD,EAAEE,OAAOC,MACfpB,EAAU3C,EAAKoC,MAAMO,QAEzBA,EAAQC,OAASiB,EACjB7D,EAAKgE,SAAS,CAAErB,WAAW,SAAAsB,GAAOjE,EAAKkE,sBAG3CC,kBAAoB,SAAAP,GAChB,IAAIX,EAAcjD,EAAKoC,MAAMa,YAC7BA,EAAY9B,KAAOyC,EAAEE,OAAOC,MAC5B/D,EAAKgE,SAAS,CAAEf,mBAGpBmB,YAAc,WACVpE,EAAKgE,SAAS,CACV1B,OAAQtC,EAAKoC,MAAME,WAc3BP,YAAc,SAACmB,GACXlD,EAAKqE,gBACLrE,EAAKgE,SAAS,CAAEd,kBAChBlD,EAAKgE,SAAS,CAAEjB,UAAU,IAE1B/C,EAAKoE,iBAGT5C,aAAe,SAACyB,GACZjD,EAAKgE,SAAS,CAAEf,gBAChBjD,EAAKgE,SAAS,CAAEd,cAAeD,EAAYM,SAC3CvD,EAAKgE,SAAS,CAAEjB,UAAU,IAE1B/C,EAAKoE,iBAyBTE,SAAW,SAAAV,GACPA,EAAEW,iBAEF,IAAIC,EAAMC,IAAaC,IAAe,mBAElCzB,EAAcjD,EAAKoC,MAAMa,YAE7BjD,EAAKgE,SAAS,CAAE3B,SAAS,IAErBrC,EAAKoC,MAAMW,UACXyB,GAAOxE,EAAKoC,MAAMa,YAAYnC,GAE9B6D,IAAMC,MAAMJ,EAAK,CAAErD,KAAM8B,EAAY9B,OAChC0D,KAAK,SAAAC,GAGF,GAFA9E,EAAKoE,cAEc,MAAfU,EAAIC,OAAgB,CACpB,IAAItE,EAAaT,EAAKoC,MAAM3B,WAExBmB,EAAW5B,EAAKgF,eAAe/B,EAAaxC,GAEhDwE,QAAQC,IAAIjC,GACZgC,QAAQC,IAAItD,GAEZA,EAASqB,EAAYS,OAAST,EAE9BjD,EAAKgE,SAAS,CAAEvD,oBAEhBT,EAAKgE,SAAS,CAAEb,SAAU2B,EAAIK,SAASC,KAAKC,aAAa,KACzDC,IAAK,kBAAmBR,EAAIK,SAASC,KAAKC,aAAa,GAAI,WAEhEE,QAAQ,WACPvF,EAAKgE,SAAS,CAAE3B,SAAS,QAG9BrC,EAAKoC,MAAMc,eACVD,EAAYuC,eAAiBxF,EAAKoC,MAAMc,cAAcpC,GACtDmC,EAAYwC,SAAWzF,EAAKoC,MAAMc,cAAcuC,QAAUzF,EAAKoC,MAAMc,cAAcuC,QAAU,KAAOzF,EAAKoC,MAAMc,cAAcpC,GAAK,KAElImC,EAAYyC,MAAO,EAGvBzC,EAAY0C,IAAM3F,EAAKQ,MAAMoF,KAAK9E,GAClCmC,EAAY4C,QAAS,EAErBlB,IAAMmB,KAAKtB,EAAKvB,GACf4B,KAAK,SAAAC,GAGF,GAFA9E,EAAKoE,cAEc,MAAfU,EAAIC,OAAgB,CACpB,IAAItE,EAAaT,EAAKoC,MAAM3B,WAExBE,EAAWmE,EAAIM,KACnBzE,EAAS4C,OAASvD,EAAKoC,MAAMc,cAC7BvC,EAASiB,SAAW,GAEpB,IAAIA,EAAW5B,EAAKgF,eAAerE,EAAUF,GAE7CmB,EAASmE,QAAQjB,EAAIM,MAErBxD,EAASoE,QAAQ,SAASvC,EAAIwC,GAC1BxC,EAAGC,MAAQuC,IAGfjG,EAAKgE,SAAS,CAAEvD,oBAEhBT,EAAKgE,SAAS,CAAEb,SAAU2B,EAAIK,SAASC,KAAKC,aAAa,KACzDC,IAAK,iBAAkBR,EAAIK,SAASC,KAAKC,aAAa,GAAI,WAE/DE,QAAQ,WACPvF,EAAKgE,SAAS,CAAE3B,SAAS,UAMrCX,eAAiB,SAACf,GACd2E,IAAK,CACDxD,MAAO,gBACPoE,KAAM,iDACNC,KAAM,UACNC,YAAY,EACZC,OAAQ,CACJH,KAAM,kBACNI,YAAY,KAGnBzB,KAAK,SAAA0B,GACEA,GACA5B,IAAM6B,OAAO/B,IAAaC,IAAe,mBAAqB/D,EAASG,IAClE+D,KAAK,SAAAC,GACF,IAAIrE,EAAaT,EAAKoC,MAAM3B,WAExBmB,EAAW5B,EAAKgF,eAAerE,EAAUF,GAE7CmB,EAAS6E,OAAO9F,EAAS+C,MAAO,GAEhC9B,EAASoE,QAAQ,SAASvC,EAAIwC,GAC1BxC,EAAGC,MAAQuC,IAGfjG,EAAKgE,SAAS,CAAEvD,iBACjB8E,QAAQ,WACPvF,EAAKgE,SAAS,CAAE3B,SAAS,MAC1BqE,MAAM,SAAAC,GACL3G,EAAKgE,SAAS,CAAEZ,YAAauD,EAAIxB,SAASC,KAAKC,aAAa,KAC5DC,IAAK,oBAAqBqB,EAAIxB,SAASC,KAAKC,aAAa,GAAI,2EArNlEuB,GAAQ,IAAAC,EAAA5G,KACd2G,IAAQA,EAAS,GACtB,IAAIpC,EAAMC,IAAaC,IAAe,+EAAiFkC,EAAS,GAAK,QAAU3G,KAAKO,MAAMoF,KAAK9E,GAE3Jb,KAAKmC,MAAMS,OACX2B,GAAO,SAAWvE,KAAKmC,MAAMS,MAG7B5C,KAAKmC,MAAMO,QAAQC,SACnB4B,GAAO,SAAWsC,mBAAmB,IAAM7G,KAAKmC,MAAMO,QAAQC,OAAS,MAG3E+B,IAAMoC,IAAIvC,GACLK,KAAK,SAAAC,GACF+B,EAAKvD,aAAawB,EAAIM,KAAK4B,UAAUvG,WAAY,MAEjDoG,EAAK7C,SAAS,CACVvD,WAAYqE,EAAIM,KAAK4B,UAAUvG,WAC/B8B,KAAMuC,EAAIM,KAAK7C,qDAKX,IAAA0E,EAAAhH,KACZiH,EAAOjH,KAAKO,MAAM2G,MAAMD,KAAKE,OAAO,GACxCF,EAAOA,EAAKE,OAAO,EAAGF,EAAKG,QAAQ,MAEnC,IAAIpE,EAAchD,KAAKmC,MAAMa,YAC7BA,EAAYJ,KAAOqE,EAAKE,OAAO,EAAG,GAClC,IAAItE,EAAWoE,EAAKI,SAAS,KAAOJ,EAAKE,OAAO,EAAGF,EAAKrF,OAAS,GAAKqF,EAEtEjH,KAAK+D,SAAS,CACV9C,SAAUgG,EACVrE,KAAMI,EAAYJ,KAClBC,SAAUA,EAASyE,OAAO,GAAGC,cAAgB1E,EAAS2E,MAAM,GAC5DxE,YAAaA,GACd,SAAAgB,GAAMgD,EAAK/C,2DAyBd,IAAIjB,EAAc,CACd9B,KAAM,GACN0B,KAAM5C,KAAKmC,MAAMS,MAGrB5C,KAAK+D,SAAS,CAAEf,oDAmBRyE,GAER,IADA,IAAIC,EAAM,GACJD,EAAMnE,QACRoE,EAAI5B,QAAQ2B,EAAMhE,OAClBgE,EAAQA,EAAMnE,OAKlB,OAFAoE,EAAI5B,QAAQ2B,EAAMhE,OAEXiE,yCAGIhH,EAAUF,GACrB,IAAImH,EAAW3H,KAAK4H,YAAYlH,EAAS4C,QACrC3B,EAAWnB,EACf,IAAI,IAAI+C,KAAKoE,EACThG,EAAWA,EAASgG,EAASpE,IAAI5B,SAGrC,OAAOA,mCAmHF,IAAAkG,EAAA7H,KAGL,OACIC,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,KACK9H,KAAKmC,MAAMC,SAAWnC,EAAAC,EAAAC,cAAC4H,EAAA,EAAD,MACvB9H,EAAAC,EAAAC,cAAA,aALI,iDAMJF,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,mBACVxB,KAAKmC,MAAMU,SADhB,eAGA5C,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,OACXvB,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,uBACXvB,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMxG,UAAU,gBACZvB,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,eACXvB,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,OACXvB,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,wBACXvB,EAAAC,EAAAC,cAAA,MAAIqB,UAAU,eAAd,eAEJvB,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,YACXvB,EAAAC,EAAAC,cAAC8H,EAAA,EAAD,CAAOrF,KAAK,OAAOsF,SAAUlI,KAAK0D,WAAYI,MAAO9D,KAAKmC,MAAMO,QAAQC,OAAQwF,YAAY,wBAEhGlI,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,YACXvB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAQC,MAAM,UAAUC,KAAK,KAAKG,UAAU,cAAcF,QAAS,kBAAMuG,EAAK/F,gBAC1E7B,EAAAC,EAAAC,cAAA,KAAGqB,UAAU,eADjB,wBAMZvB,EAAAC,EAAAC,cAACiI,EAAA,EAAD,KACInI,EAAAC,EAAAC,cAACkI,EAAA,EAAD,CAAOC,OAAQtI,KAAKmC,MAAME,MAAOkG,OAAQvI,KAAKmE,aAC1ClE,EAAAC,EAAAC,cAACqI,EAAA,EAAD,CAAaD,OAAQvI,KAAKmE,aACrBnE,KAAKmC,MAAMW,UAAY7C,EAAAC,EAAAC,cAAA,sBACtBH,KAAKmC,MAAMW,UAAY7C,EAAAC,EAAAC,cAAA,oBAF7B,YAKAF,EAAAC,EAAAC,cAACsI,EAAA,EAAD,KACIxI,EAAAC,EAAAC,cAAA,QAAMqB,UAAU,kBAAkB6C,SAAUrE,KAAKqE,UAC5CrE,KAAKmC,MAAMc,eACZhD,EAAAC,EAAAC,cAAA,gBACIF,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,wBACXvB,EAAAC,EAAAC,cAAA,SAAOqB,UAAU,2BAAjB,oBACAvB,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAKC,GAAI,GACL1I,EAAAC,EAAAC,cAAA,UAAKH,KAAKmC,MAAMc,cAAc/B,SAK1CjB,EAAAC,EAAAC,cAAA,gBACIF,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,wBACXvB,EAAAC,EAAAC,cAAA,SAAOqB,UAAU,2BAAjB,QACAvB,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAKC,GAAI,GACL1I,EAAAC,EAAAC,cAAC8H,EAAA,EAAD,CAAOrF,KAAK,OAAOsF,SAAUlI,KAAKkE,kBAAmB0E,UAAU,KAAK9E,MAAO9D,KAAKmC,MAAMa,YAAY9B,KAAM2H,UAAQ,OAK5H5I,EAAAC,EAAAC,cAAA,gBACIF,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,qBACXvB,EAAAC,EAAAC,cAAA,OAAKqB,UAAU,yBACXvB,EAAAC,EAAAC,cAAA,UAAQyC,KAAK,SAASpB,UAAU,mBAAhC,uBAQxBvB,EAAAC,EAAAC,cAAC2I,EAAD,CACA7H,SAAUjB,KAAKmC,MAAMlB,SACrBT,WAAYR,KAAKmC,MAAM3B,WACvBsB,YAAa9B,KAAK8B,YAAYC,KAAK/B,MACnCuB,aAAcvB,KAAKuB,aAAaQ,KAAK/B,MACrCyB,eAAgBzB,KAAKyB,eAAeM,KAAK/B,QAEzCC,EAAAC,EAAAC,cAAC4I,EAAA,EAAD,CAAkBzG,KAAMtC,KAAKmC,MAAMG,KAAM4F,SAAU,SAAC3E,GAAD,OAAOsE,EAAK5D,eAAeV,kBA9UrFtB,aA0VV+G,sBAFS,SAAA7G,GAAK,MAAK,CAAE8G,SAAU9G,EAAM8G,SAAUtD,KAAMxD,EAAM+G,MAAMC,UAEjEH,CAEb9G,qCCnXF,IAAAkH,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAMMtB,EAAiB,SAAAvH,GAAK,OACxB+I,EAAApJ,EAAAC,cAAA,OAAKqB,UAAU,mBACVjB,EAAMiJ,OACFF,EAAApJ,EAAAC,cAAA,OAAKqB,UAAU,UAAUjB,EAAMoB,UAE/BpB,EAAMoB,WASnBmG,EAAe2B,aAAe,CAC1BD,QAAQ,GAGG1B,srCCpBTiB,oMACFW,iBAAmB,WACf,IAAIC,EAAe5J,EAAKQ,MAAM+B,KAAKC,OAASxC,EAAKQ,MAAM+B,KAAKjB,KAAQ,EAChEuI,EAAYD,EAAc5J,EAAKQ,MAAM+B,KAAKjB,KAAO,EAEjDuI,EAAY7J,EAAKQ,MAAM+B,KAAKE,gBAC5BoH,EAAY7J,EAAKQ,MAAM+B,KAAKE,eAGhC,IAAIyD,EAAO,WAAa0D,EAAc,OAASC,EAAY,OAAS7J,EAAKQ,MAAM+B,KAAKE,cAAgB,WA0BpG,OAxBcqH,EAAA3J,EAAAC,cAAA,OAAKqB,UAAU,mBACU,IAAlCzB,EAAKQ,MAAM+B,KAAKE,eAAuBqH,EAAA3J,EAAAC,cAAA,OAAKqB,UAAU,aACnDqI,EAAA3J,EAAAC,cAAC2J,EAAD,0BAEH/J,EAAKQ,MAAM+B,KAAKE,cAAgB,GAAKzC,EAAKQ,MAAM+B,KAAKG,WAAa,GAAKoH,EAAA3J,EAAAC,cAAA,OAAKqB,UAAU,sBACnFqI,EAAA3J,EAAAC,cAAC4J,EAAD,KAAQ9D,IAEXlG,EAAKQ,MAAM+B,KAAKE,cAAgB,GAAKzC,EAAKQ,MAAM+B,KAAKG,WAAa,GAAKoH,EAAA3J,EAAAC,cAAA,OAAKqB,UAAU,sBACnFqI,EAAA3J,EAAAC,cAAC6J,EAAD,KACIH,EAAA3J,EAAAC,cAAC8J,EAAA/J,EAAD,CACIgK,WAAYnK,EAAKQ,MAAM+B,KAAKC,OAAS,EACrC4H,kBAAmBpK,EAAKQ,MAAM+B,KAAKjB,KACnC+I,gBAAiBrK,EAAKQ,MAAM+B,KAAKE,cACjC6H,mBAAoB,EACpBnC,SAAUnI,EAAKQ,MAAM2H,SACrBoC,UAAU,YACVC,UAAU,YACVC,aAAa,IACbC,aAAa,iEAY7B,OACIZ,EAAA3J,EAAAC,cAACuK,EAAD,KACIb,EAAA3J,EAAAC,cAAA,aAJI,sFAKHH,KAAK0J,2BA5CS1H,IAAMC,WAkDtB8G,MAEf,IAAM2B,EAAOC,IAAOC,IAAVC,KAIJb,EAAOW,IAAOC,IAAVE,KAWJf,EAAQY,IAAOI,KAAVC,KAMLlB,EAAQa,IAAOI,KAAVE","file":"static/js/24.0d842f96.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    Button,\r\n    Table\r\n} from 'reactstrap';\r\n\r\n\r\nclass CategoryTree extends React.Component {\r\n    \r\n    render() {\r\n        return (\r\n        <Table hover responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th>Name</th>\r\n                    <th></th>\r\n                    <th>Sub Categories</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {this.props.categories.map((category, i) => {\r\n                    return (\r\n                    <tr key={category.id}>\r\n                        <td>\r\n                        {i + 1}. <Link to={`/${this.props.typePath}?category=${category.id}`}>{category.name}</Link>\r\n                        </td>\r\n                        <td>\r\n                            <Button color=\"inverse\" size=\"xs\" onClick={() => this.props.editCategory(category)}>\r\n                                <i className=\"fa fa-edit\"></i>\r\n                            </Button>\r\n                            <Button color=\"warning\" size=\"xs\" onClick={() => this.props.deleteCategory(category)}\r\n                                disabled={category.children.length > 0} title={category.children.length > 0 ? 'Can not delete category with childs' : ''}>\r\n                                <i className=\"fa fa-trash\"></i>\r\n                            </Button>\r\n                        </td>\r\n                        <td>\r\n                            <Button color=\"success\" size=\"xs\" onClick={() => this.props.addCategory(category)}>\r\n                                <i className=\"fa fa-plus\"></i> Add\r\n                            </Button>\r\n                            {category.children.length > 0 &&\r\n                            <CategoryTree \r\n                            typePath={this.props.typePath} \r\n                            categories={category.children} \r\n                            addCategory={this.props.addCategory.bind(this)}\r\n                            editCategory={this.props.editCategory.bind(this)}\r\n                            deleteCategory={this.props.deleteCategory.bind(this)} />}\r\n                        </td>\r\n                    </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </Table>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CategoryTree;","import React, { Component } from 'react';\r\nimport PageLoader from '../Common/PageLoader';\r\nimport ContentWrapper from '../Layout/ContentWrapper';\r\nimport {\r\n    Button,\r\n    Col,\r\n    Card,\r\n    CardBody,\r\n    Input,\r\n    Modal,\r\n    ModalHeader,\r\n    ModalBody\r\n} from 'reactstrap';\r\n\r\nimport swal from 'sweetalert';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\n// import Moment from 'react-moment';\r\n// import { Link } from 'react-router-dom';\r\nimport CustomPagination from '../Common/CustomPagination';\r\nimport CategoryTree from '../Common/CategoryTree';\r\nimport { server_url, context_path } from '../Common/constants';\r\n\r\nclass Categories extends Component {\r\n    state = {\r\n        loading: false,\r\n        modal: false,\r\n        page: {\r\n            number: 0,\r\n            size: 20,\r\n            totalElements: 0,\r\n            totalPages: 0\r\n        },\r\n        filters: {\r\n            search: ''\r\n        },\r\n        type: '',\r\n        typeName: '',\r\n        typePath: '',\r\n        categories: [],\r\n        editFlag: false,\r\n        currentCategory: '',\r\n        newCategory: {\r\n            name: '',\r\n            type: '',\r\n        },\r\n        superCategory: '',\r\n        addError: '',\r\n        deleteError: '',\r\n        updateError: ''\r\n    };\r\n\r\n    updateParent = (categories, parent) => {\r\n        for(var x in categories) {\r\n            var dx = categories[x];\r\n            dx.index = x;\r\n            dx.parent = parent;\r\n\r\n            if(dx.children.length) {\r\n                this.updateParent(dx.children, dx);\r\n            }\r\n        }\r\n    }\r\n\r\n    loadCategories(offset) {\r\n        if (!offset) offset = 1;\r\n        var url = server_url + context_path + \"/api/categories?projection=category_all&lineage=null&sort=lineage,asc&page=\" + (offset - 1) + \"&uid=\" + this.props.user.id;\r\n\r\n        if (this.state.type) {\r\n            url += \"&type=\" + this.state.type;\r\n        }\r\n\r\n        if (this.state.filters.search) {\r\n            url += \"&name=\" + encodeURIComponent('%' + this.state.filters.search + '%');\r\n        }\r\n\r\n        axios.get(url)\r\n            .then(res => {\r\n                this.updateParent(res.data._embedded.categories, null);\r\n\r\n                this.setState({\r\n                    categories: res.data._embedded.categories,\r\n                    page: res.data.page\r\n                });\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        var path = this.props.match.path.substr(1);\r\n        path = path.substr(0, path.indexOf('/'));\r\n\r\n        var newCategory = this.state.newCategory;\r\n        newCategory.type = path.substr(0, 4);\r\n        var typeName = path.endsWith('s') ? path.substr(0, path.length - 1) : path;\r\n\r\n        this.setState({\r\n            typePath: path,\r\n            type: newCategory.type,\r\n            typeName: typeName.charAt(0).toUpperCase() + typeName.slice(1),\r\n            newCategory: newCategory\r\n        }, o => {this.loadCategories()});\r\n    }\r\n\r\n    searchUser = e => {\r\n        var str = e.target.value;\r\n        var filters = this.state.filters;\r\n\r\n        filters.search = str;\r\n        this.setState({ filters }, o => { this.loadCategories() });\r\n    }\r\n\r\n    updateNewCategory = e => {\r\n        var newCategory = this.state.newCategory;\r\n        newCategory.name = e.target.value;\r\n        this.setState({ newCategory });\r\n    }\r\n\r\n    toggleModal = () => {\r\n        this.setState({\r\n            modal: !this.state.modal\r\n        });\r\n    }\r\n\r\n\r\n    resetCategory() {\r\n        var newCategory = {\r\n            name: '',\r\n            type: this.state.type\r\n        }\r\n\r\n        this.setState({ newCategory });\r\n    }\r\n\r\n    addCategory = (superCategory) => {\r\n        this.resetCategory();\r\n        this.setState({ superCategory });\r\n        this.setState({ editFlag: false });\r\n\r\n        this.toggleModal();\r\n    }\r\n\r\n    editCategory = (newCategory) => {\r\n        this.setState({ newCategory });\r\n        this.setState({ superCategory: newCategory.parent });\r\n        this.setState({ editFlag: true });\r\n\r\n        this.toggleModal();\r\n    }\r\n\r\n    getIndexArr(child) {\r\n        var arr = [];\r\n        while(child.parent) {\r\n            arr.unshift(child.index);\r\n            child = child.parent;\r\n        }\r\n\r\n        arr.unshift(child.index);\r\n\r\n        return arr;\r\n    }\r\n\r\n    getChildrenArr(category, categories) {\r\n        var indexArr = this.getIndexArr(category.parent);\r\n        var children = categories;\r\n        for(var x in indexArr) {\r\n            children = children[indexArr[x]].children;\r\n        }\r\n\r\n        return children;\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        var url = server_url + context_path + \"/api/categories/\";\r\n\r\n        var newCategory = this.state.newCategory;\r\n\r\n        this.setState({ loading: true });\r\n\r\n        if (this.state.editFlag) {\r\n            url += this.state.newCategory.id;\r\n\r\n            axios.patch(url, { name: newCategory.name })\r\n                .then(res => {\r\n                    this.toggleModal();\r\n\r\n                    if (res.status === 200) {\r\n                        var categories = this.state.categories;\r\n\r\n                        var children = this.getChildrenArr(newCategory, categories);\r\n\r\n                        console.log(newCategory);\r\n                        console.log(children);\r\n\r\n                        children[newCategory.index] = newCategory;\r\n\r\n                        this.setState({ categories });\r\n                    } else {\r\n                        this.setState({ addError: res.response.data.globalErrors[0] });\r\n                        swal(\"Unable to Edit!\", res.response.data.globalErrors[0], \"error\");\r\n                    }\r\n                }).finally(() => {\r\n                    this.setState({ loading: false });\r\n                })\r\n        } else {\r\n            if(this.state.superCategory) {\r\n                newCategory.parentCategory = this.state.superCategory.id;\r\n                newCategory.lineage = (this.state.superCategory.lineage ? this.state.superCategory.lineage : '$') + this.state.superCategory.id + '$';\r\n            } else {\r\n                newCategory.menu = true;\r\n            }\r\n\r\n            newCategory.uid = this.props.user.id;\r\n            newCategory.active = true;\r\n\r\n            axios.post(url, newCategory)\r\n            .then(res => {\r\n                this.toggleModal();\r\n\r\n                if (res.status === 201) {\r\n                    var categories = this.state.categories;\r\n\r\n                    var category = res.data;\r\n                    category.parent = this.state.superCategory;\r\n                    category.children = [];\r\n\r\n                    var children = this.getChildrenArr(category, categories);\r\n\r\n                    children.unshift(res.data);\r\n\r\n                    children.forEach(function(dx, idx) {\r\n                        dx.index = idx;\r\n                    })\r\n\r\n                    this.setState({ categories });\r\n                } else {\r\n                    this.setState({ addError: res.response.data.globalErrors[0] });\r\n                    swal(\"Unable to Add!\", res.response.data.globalErrors[0], \"error\");\r\n                }\r\n            }).finally(() => {\r\n                this.setState({ loading: false });\r\n            })\r\n        }\r\n    }\r\n\r\n    \r\n    deleteCategory = (category) => {\r\n        swal({\r\n            title: \"Are you sure?\",\r\n            text: \"You will not be able to recover this Category!\",\r\n            icon: \"warning\",\r\n            dangerMode: true,\r\n            button: {\r\n                text: \"Yes, delete it!\",\r\n                closeModal: true,\r\n            }\r\n        })\r\n        .then(willDelete => {\r\n            if (willDelete) {\r\n                axios.delete(server_url + context_path + \"/api/categories/\" + category.id)\r\n                    .then(res => {\r\n                        var categories = this.state.categories;\r\n\r\n                        var children = this.getChildrenArr(category, categories);\r\n\r\n                        children.splice(category.index, 1);\r\n\r\n                        children.forEach(function(dx, idx) {\r\n                            dx.index = idx;\r\n                        })\r\n                        \r\n                        this.setState({ categories });\r\n                    }).finally(() => {\r\n                        this.setState({ loading: false });\r\n                    }).catch(err => {\r\n                        this.setState({ deleteError: err.response.data.globalErrors[0] });\r\n                        swal(\"Unable to Delete!\", err.response.data.globalErrors[0], \"error\");\r\n                    })\r\n                }\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const CSS = '.content-wrapper .btn { margin: 0 4px 4px 0 }';\r\n\r\n        return (\r\n            <ContentWrapper>\r\n                {this.state.loading && <PageLoader />}\r\n                <style>{CSS}</style>\r\n                <div className=\"content-heading\">\r\n                    {this.state.typeName} Categories\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-12 col-md-12\">\r\n                        <Card className=\"card-default\">\r\n                            <div className=\"card-header\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-2 offset-md-4\">\r\n                                        <h4 className=\"float-right\">Filters : </h4>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                        <Input type=\"text\" onChange={this.searchUser} value={this.state.filters.search} placeholder=\"search category...\" />\r\n                                    </div>\r\n                                    <div className=\"col-md-2\">\r\n                                        <Button color=\"success\" size=\"sm\" className=\"float-right\" onClick={() => this.addCategory()}>\r\n                                            <i className=\"fa fa-plus\"></i>&nbsp; Add Category\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <CardBody>\r\n                                <Modal isOpen={this.state.modal} toggle={this.toggleModal}>\r\n                                    <ModalHeader toggle={this.toggleModal}>\r\n                                        {this.state.editFlag && <span>Edit </span>}\r\n                                        {!this.state.editFlag && <span>Add </span>}\r\n                                        Category\r\n                                    </ModalHeader>\r\n                                    <ModalBody>\r\n                                        <form className=\"form-horizontal\" onSubmit={this.onSubmit}>\r\n                                            {this.state.superCategory && \r\n                                            <fieldset>\r\n                                                <div className=\"form-category row mb\">\r\n                                                    <label className=\"col-md-4 col-form-label\">Super Categories</label>\r\n                                                    <Col md={8}>\r\n                                                        <h3>{this.state.superCategory.name}</h3>\r\n                                                    </Col>\r\n                                                </div>\r\n                                            </fieldset>\r\n                                            }\r\n                                            <fieldset>\r\n                                                <div className=\"form-category row mb\">\r\n                                                    <label className=\"col-md-4 col-form-label\">Name</label>\r\n                                                    <Col md={8}>\r\n                                                        <Input type=\"text\" onChange={this.updateNewCategory} maxLength=\"20\" value={this.state.newCategory.name} required />\r\n                                                    </Col>\r\n                                                </div>\r\n                                            </fieldset>\r\n\r\n                                            <fieldset>\r\n                                                <div className=\"form-category row\">\r\n                                                    <div className=\"col-sm-12 text-center\">\r\n                                                        <button type=\"submit\" className=\"btn btn-primary\">Save Category</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </fieldset>\r\n                                        </form>\r\n                                    </ModalBody>\r\n                                </Modal>\r\n\r\n                                <CategoryTree \r\n                                typePath={this.state.typePath} \r\n                                categories={this.state.categories} \r\n                                addCategory={this.addCategory.bind(this)}\r\n                                editCategory={this.editCategory.bind(this)}\r\n                                deleteCategory={this.deleteCategory.bind(this)} />\r\n\r\n                                <CustomPagination page={this.state.page} onChange={(x) => this.loadCategories(x)} />\r\n                            </CardBody>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </ContentWrapper>\r\n        );\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => ({ settings: state.settings, user: state.login.userObj })\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(Categories);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Wrapper element for template content\r\n */\r\nconst ContentWrapper = props =>(\r\n    <div className=\"content-wrapper\">\r\n        {props.unwrap ?\r\n            (<div className=\"unwrap\">{props.children}</div>)\r\n            :\r\n            (props.children)\r\n        }\r\n    </div>\r\n)\r\n\r\nContentWrapper.propTypes = {\r\n    /** add element with 'unwrap' class to expand content area */\r\n    unwrap: PropTypes.bool\r\n}\r\nContentWrapper.defaultProps = {\r\n    unwrap: false\r\n}\r\n\r\nexport default ContentWrapper;\r\n","import React from \"react\";\nimport Pagination from \"react-js-pagination\";\nimport styled from \"styled-components\";\n\nclass CustomPagination extends React.Component {\n    renderPagination = () => {\n        var fromElement = (this.props.page.number * this.props.page.size) + 1;\n        var toElement = fromElement + this.props.page.size - 1;\n\n        if (toElement > this.props.page.totalElements) {\n            toElement = this.props.page.totalElements;\n        }\n\n        var text = 'Showing ' + fromElement + ' to ' + toElement + ' of ' + this.props.page.totalElements + ' entries';\n\n        var content = <div className=\"row text-center\">\n            {this.props.page.totalElements === 0 && <div className=\"col-sm-12\">\n                <Span2>No records found</Span2>\n            </div>}\n            {this.props.page.totalElements > 0 && this.props.page.totalPages > 1 && <div className=\"col-sm-12 col-md-5\">\n                <Span1>{text}</Span1>\n            </div>}\n            {this.props.page.totalElements > 0 && this.props.page.totalPages > 1 && <div className=\"col-sm-12 col-md-7\">\n                <Div2>\n                    <Pagination\n                        activePage={this.props.page.number + 1}\n                        itemsCountPerPage={this.props.page.size}\n                        totalItemsCount={this.props.page.totalElements}\n                        pageRangeDisplayed={5}\n                        onChange={this.props.onChange}\n                        itemClass=\"page-item\"\n                        linkClass=\"page-link\"\n                        prevPageText=\"<\"\n                        nextPageText=\">\"\n                    />\n                </Div2>\n            </div>}\n        </div>;\n\n        return content;\n    }\n\n    render() {\n        const CSS = 'ul.pagination { white-space: nowrap; justify-content: flex-end; margin: 2px 0px; }';\n\n        return (\n            <Div1>\n                <style>{CSS}</style>\n                {this.renderPagination()}\n            </Div1>\n        );\n    }\n}\n\nexport default CustomPagination;\n\nconst Div1 = styled.div`\n    margin: 20px 10px 0;\n  `;\n\nconst Div2 = styled.div`\ndisplay: flex;\n-webkit-justify-content: flex-end;\njustify-content: flex-end;\nflex-direction: column;\nhite-space: nowrap;\ntext-align: right;\nmargin: 0px;\n\n`;\n\nconst Span1 = styled.span`\n    padding-top: 1em;\n    white-space: nowrap;\n    float: left;\n  `;\n\nconst Span2 = styled.span`\n    padding-top: 1em;\n    white-space: nowrap;\n    font-size: 16px;\n  `;"],"sourceRoot":""}